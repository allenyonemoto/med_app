{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import\"./Navbar.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const[click,setClick]=useState(false);const[isLoggedIn,setIsLoggedIn]=useState(false);const[username,setUsername]=useState(\"\");const[email,setEmail]=useState(\"\");const[showDropdown,setShowDropdown]=useState(false);const handleClick=()=>setClick(!click);const handleLogout=()=>{sessionStorage.removeItem(\"auth-token\");sessionStorage.removeItem(\"name\");sessionStorage.removeItem(\"email\");sessionStorage.removeItem(\"phone\");localStorage.removeItem(\"doctorData\");setIsLoggedIn(false);for(let i=0;i<localStorage.length;i++){const key=localStorage.key(i);if(key.startsWith(\"reviewFormData_\")){localStorage.removeItem(key);}}setEmail('');window.location.reload();};const handleDropdown=()=>{setShowDropdown(!showDropdown);};useEffect(()=>{const storedEmail=sessionStorage.getItem(\"email\");if(storedEmail){setIsLoggedIn(true);console.log(\"Navbar isLoggedIn: \",isLoggedIn);setUsername(storedEmail);console.log(\"Navbar UserName: \",username);}},[]);useEffect(()=>{const storedUsername=sessionStorage.getItem(\"name\");if(storedUsername){setIsLoggedIn(true);setUsername(storedUsername);}console.log(\"Navbar UserName2: \",username);},[]);return/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav__logo\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[\"StayHealthy \",/*#__PURE__*/_jsx(\"i\",{style:{color:'#2190FF'},className:\"fa fa-user-md\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\".\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"nav__icon\",onClick:handleClick,children:/*#__PURE__*/_jsx(\"i\",{className:click?\"fa fa-times\":\"fa fa-bars\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:click?'nav__links active':'nav__links',children:[/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/booking-consultation\",children:\"Appointments\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/instant-consultation\",children:\"Instant Consultation\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/healthblog\",children:\"Health Blog\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/reviews\",children:\"Reviews\"})}),isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"li\",{onClick:handleDropdown,className:\"link welcome-user\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Welcome, \",username]}),showDropdown&&/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Your Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/reports\",children:\"Your Reports\"})})]})]}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn2\",onClick:handleLogout,children:\"Logout\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn1\",children:\"Sign Up\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn1\",children:\"Login\"})})})]})]})]});};export default Navbar;","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","click","setClick","isLoggedIn","setIsLoggedIn","username","setUsername","email","setEmail","showDropdown","setShowDropdown","handleClick","handleLogout","sessionStorage","removeItem","localStorage","i","length","key","startsWith","window","location","reload","handleDropdown","storedEmail","getItem","console","log","storedUsername","children","className","to","style","color","onClick"],"sources":["/home/project/med_app/src/Components/Navbar/Navbar.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Navbar.css\";\n\n\nconst Navbar = () => {\n  const [click, setClick] = useState(false); \n  const [isLoggedIn, setIsLoggedIn] = useState(false); \n  const [username, setUsername] = useState(\"\"); \n  const [email, setEmail] = useState(\"\"); \n  const [showDropdown, setShowDropdown] = useState(false); \n\n\n  const handleClick = () => setClick(!click);\n\n  const handleLogout = () => {\n    sessionStorage.removeItem(\"auth-token\");\n    sessionStorage.removeItem(\"name\");\n    sessionStorage.removeItem(\"email\");\n    sessionStorage.removeItem(\"phone\");\n    localStorage.removeItem(\"doctorData\"); \n    setIsLoggedIn(false);\n\n\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      if (key.startsWith(\"reviewFormData_\")) {\n        localStorage.removeItem(key);\n      }\n    }\n    setEmail(''); \n    window.location.reload();\n  };\n\n  const handleDropdown = () => {\n    setShowDropdown(!showDropdown);\n  };\n\n  useEffect(() => {\n    const storedEmail = sessionStorage.getItem(\"email\");\n    if (storedEmail) {\n      setIsLoggedIn(true);\n      console.log(\"Navbar isLoggedIn: \", isLoggedIn)\n      setUsername(storedEmail);\n      console.log(\"Navbar UserName: \", username)\n    }\n  }, []); \n\n  useEffect(() => {\n    const storedUsername = sessionStorage.getItem(\"name\");\n\n    if (storedUsername) {\n        setIsLoggedIn(true);\n        setUsername(storedUsername);\n    }\n    console.log(\"Navbar UserName2: \", username)\n}, []);\n\n  return (\n    <nav>\n      <div className=\"nav__logo\">\n        <Link to=\"/\">\n          StayHealthy <i style={{ color: '#2190FF' }} className=\"fa fa-user-md\"></i>\n        </Link>\n        <span>.</span>\n      </div>\n\n      <div className=\"nav__icon\" onClick={handleClick}>\n        <i className={click ? \"fa fa-times\" : \"fa fa-bars\"}></i>\n      </div>\n\n      <ul className={click ? 'nav__links active' : 'nav__links'}>\n        <li className=\"link\">\n          <Link to=\"/\">Home</Link>\n        </li>\n        <li className=\"link\">\n          <Link to=\"/booking-consultation\">Appointments</Link>\n        </li>\n        <li className=\"link\">\n          <Link to=\"/instant-consultation\">Instant Consultation</Link>\n        </li>\n        <li className=\"link\">\n          <Link to=\"/healthblog\">Health Blog</Link>\n        </li>\n        <li className=\"link\">\n          <Link to=\"/reviews\">Reviews</Link>\n        </li>\n\n        {isLoggedIn ? (\n                    <>\n                        <li onClick={handleDropdown} className=\"link welcome-user\">\n                            <p>\n                                Welcome, {username}\n                            </p>\n                            {showDropdown && (\n                                <ul className=\"dropdown-menu\">\n                                    <li>\n                                        <Link to=\"/profile\">Your Profile</Link>\n                                    </li>\n                                    <li>\n                                        <Link to=\"/reports\">Your Reports</Link>\n                                    </li>\n                                </ul>\n                            )}\n                        </li>\n            <li className=\"link\">\n              <button className=\"btn2\" onClick={handleLogout}>\n                Logout\n              </button>\n            </li>\n          </>\n        ) : (\n          <>\n            <li className=\"link\">\n              <Link to=\"/signup\">\n                <button className=\"btn1\">Sign Up</button>\n              </Link>\n            </li>\n            <li className=\"link\">\n              <Link to=\"/login\">\n                <button className=\"btn1\">Login</button>\n              </Link>\n            </li>\n          </>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}